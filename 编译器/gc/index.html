<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>GOFamily - go 程序员宝典</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="shortcut icon" type="image/x-icon" href="/GOFamily/favicon.ico">
    <meta name="description" content="🔥 go 程序员宝典，包含了：算法，数据库，网络操作系统，分布式，系统设计等一揽子知识体系">
    
    <link rel="preload" href="/GOFamily/assets/css/0.styles.93ee3edc.css" as="style"><link rel="preload" href="/GOFamily/assets/js/app.6dac5fbf.js" as="script"><link rel="preload" href="/GOFamily/assets/js/2.5c331e53.js" as="script"><link rel="preload" href="/GOFamily/assets/js/112.b73333d2.js" as="script"><link rel="prefetch" href="/GOFamily/assets/js/10.993cf521.js"><link rel="prefetch" href="/GOFamily/assets/js/100.8a13422e.js"><link rel="prefetch" href="/GOFamily/assets/js/101.56e8a149.js"><link rel="prefetch" href="/GOFamily/assets/js/102.0befb22b.js"><link rel="prefetch" href="/GOFamily/assets/js/103.318b2dd9.js"><link rel="prefetch" href="/GOFamily/assets/js/104.5190ec56.js"><link rel="prefetch" href="/GOFamily/assets/js/105.27135b71.js"><link rel="prefetch" href="/GOFamily/assets/js/106.ee0a923b.js"><link rel="prefetch" href="/GOFamily/assets/js/107.abf9bc9d.js"><link rel="prefetch" href="/GOFamily/assets/js/108.339b1d12.js"><link rel="prefetch" href="/GOFamily/assets/js/109.7ee4cfe4.js"><link rel="prefetch" href="/GOFamily/assets/js/11.0307bcae.js"><link rel="prefetch" href="/GOFamily/assets/js/110.25bb24d2.js"><link rel="prefetch" href="/GOFamily/assets/js/111.800f7506.js"><link rel="prefetch" href="/GOFamily/assets/js/113.3bed7499.js"><link rel="prefetch" href="/GOFamily/assets/js/114.c126b120.js"><link rel="prefetch" href="/GOFamily/assets/js/115.773ca7ce.js"><link rel="prefetch" href="/GOFamily/assets/js/12.521ef871.js"><link rel="prefetch" href="/GOFamily/assets/js/13.6a579e8b.js"><link rel="prefetch" href="/GOFamily/assets/js/14.fa863532.js"><link rel="prefetch" href="/GOFamily/assets/js/15.ccbbdb7a.js"><link rel="prefetch" href="/GOFamily/assets/js/16.2a7384f8.js"><link rel="prefetch" href="/GOFamily/assets/js/17.50442aef.js"><link rel="prefetch" href="/GOFamily/assets/js/18.4b8a1599.js"><link rel="prefetch" href="/GOFamily/assets/js/19.fce83f0a.js"><link rel="prefetch" href="/GOFamily/assets/js/20.c57281b8.js"><link rel="prefetch" href="/GOFamily/assets/js/21.19939807.js"><link rel="prefetch" href="/GOFamily/assets/js/22.a6f2abf2.js"><link rel="prefetch" href="/GOFamily/assets/js/23.a3a10d16.js"><link rel="prefetch" href="/GOFamily/assets/js/24.edf743ad.js"><link rel="prefetch" href="/GOFamily/assets/js/25.c1fe94a5.js"><link rel="prefetch" href="/GOFamily/assets/js/26.529d156a.js"><link rel="prefetch" href="/GOFamily/assets/js/27.baf2939d.js"><link rel="prefetch" href="/GOFamily/assets/js/28.69e5608b.js"><link rel="prefetch" href="/GOFamily/assets/js/29.742dd6e8.js"><link rel="prefetch" href="/GOFamily/assets/js/3.159fe1e3.js"><link rel="prefetch" href="/GOFamily/assets/js/30.4aafb94a.js"><link rel="prefetch" href="/GOFamily/assets/js/31.87baab0b.js"><link rel="prefetch" href="/GOFamily/assets/js/32.1ea926c5.js"><link rel="prefetch" href="/GOFamily/assets/js/33.4d31d0db.js"><link rel="prefetch" href="/GOFamily/assets/js/34.7610889f.js"><link rel="prefetch" href="/GOFamily/assets/js/35.07f8b036.js"><link rel="prefetch" href="/GOFamily/assets/js/36.d1acb39c.js"><link rel="prefetch" href="/GOFamily/assets/js/37.1fac0e0a.js"><link rel="prefetch" href="/GOFamily/assets/js/38.53670642.js"><link rel="prefetch" href="/GOFamily/assets/js/39.9c8315fb.js"><link rel="prefetch" href="/GOFamily/assets/js/4.a73c4d70.js"><link rel="prefetch" href="/GOFamily/assets/js/40.c47687be.js"><link rel="prefetch" href="/GOFamily/assets/js/41.73deb46e.js"><link rel="prefetch" href="/GOFamily/assets/js/42.85cfacd9.js"><link rel="prefetch" href="/GOFamily/assets/js/43.1b441a63.js"><link rel="prefetch" href="/GOFamily/assets/js/44.5dc33e34.js"><link rel="prefetch" href="/GOFamily/assets/js/45.e7e66273.js"><link rel="prefetch" href="/GOFamily/assets/js/46.146ccd16.js"><link rel="prefetch" href="/GOFamily/assets/js/47.aa0964bb.js"><link rel="prefetch" href="/GOFamily/assets/js/48.0f67a15e.js"><link rel="prefetch" href="/GOFamily/assets/js/49.565c30a8.js"><link rel="prefetch" href="/GOFamily/assets/js/5.864fc44c.js"><link rel="prefetch" href="/GOFamily/assets/js/50.0f964c86.js"><link rel="prefetch" href="/GOFamily/assets/js/51.9dd5ff4a.js"><link rel="prefetch" href="/GOFamily/assets/js/52.d3f06485.js"><link rel="prefetch" href="/GOFamily/assets/js/53.60bb95e9.js"><link rel="prefetch" href="/GOFamily/assets/js/54.ee26f0f5.js"><link rel="prefetch" href="/GOFamily/assets/js/55.7b5dc58d.js"><link rel="prefetch" href="/GOFamily/assets/js/56.e3024720.js"><link rel="prefetch" href="/GOFamily/assets/js/57.74cebe2c.js"><link rel="prefetch" href="/GOFamily/assets/js/58.2eea170e.js"><link rel="prefetch" href="/GOFamily/assets/js/59.a733d97b.js"><link rel="prefetch" href="/GOFamily/assets/js/6.f4af1c68.js"><link rel="prefetch" href="/GOFamily/assets/js/60.31fce32e.js"><link rel="prefetch" href="/GOFamily/assets/js/61.025df443.js"><link rel="prefetch" href="/GOFamily/assets/js/62.dfeb9d10.js"><link rel="prefetch" href="/GOFamily/assets/js/63.088bb315.js"><link rel="prefetch" href="/GOFamily/assets/js/64.7503aa28.js"><link rel="prefetch" href="/GOFamily/assets/js/65.9e82002d.js"><link rel="prefetch" href="/GOFamily/assets/js/66.fd22a77b.js"><link rel="prefetch" href="/GOFamily/assets/js/67.613f77e3.js"><link rel="prefetch" href="/GOFamily/assets/js/68.42cf41b2.js"><link rel="prefetch" href="/GOFamily/assets/js/69.a1051de8.js"><link rel="prefetch" href="/GOFamily/assets/js/7.5c52a687.js"><link rel="prefetch" href="/GOFamily/assets/js/70.8c3a3873.js"><link rel="prefetch" href="/GOFamily/assets/js/71.57746954.js"><link rel="prefetch" href="/GOFamily/assets/js/72.5afe8bc8.js"><link rel="prefetch" href="/GOFamily/assets/js/73.03d8974c.js"><link rel="prefetch" href="/GOFamily/assets/js/74.4f1eeb3c.js"><link rel="prefetch" href="/GOFamily/assets/js/75.d44fc2e7.js"><link rel="prefetch" href="/GOFamily/assets/js/76.f53bf284.js"><link rel="prefetch" href="/GOFamily/assets/js/77.bad2588a.js"><link rel="prefetch" href="/GOFamily/assets/js/78.2ee31447.js"><link rel="prefetch" href="/GOFamily/assets/js/79.f5c3f20d.js"><link rel="prefetch" href="/GOFamily/assets/js/8.419c1695.js"><link rel="prefetch" href="/GOFamily/assets/js/80.5aa44af4.js"><link rel="prefetch" href="/GOFamily/assets/js/81.33455a03.js"><link rel="prefetch" href="/GOFamily/assets/js/82.9f2284bd.js"><link rel="prefetch" href="/GOFamily/assets/js/83.5dc60988.js"><link rel="prefetch" href="/GOFamily/assets/js/84.b93653e7.js"><link rel="prefetch" href="/GOFamily/assets/js/85.17171820.js"><link rel="prefetch" href="/GOFamily/assets/js/86.411754fa.js"><link rel="prefetch" href="/GOFamily/assets/js/87.94cb9c84.js"><link rel="prefetch" href="/GOFamily/assets/js/88.bf9b9181.js"><link rel="prefetch" href="/GOFamily/assets/js/89.30daa2d3.js"><link rel="prefetch" href="/GOFamily/assets/js/9.0852bf61.js"><link rel="prefetch" href="/GOFamily/assets/js/90.86c77607.js"><link rel="prefetch" href="/GOFamily/assets/js/91.77196b7c.js"><link rel="prefetch" href="/GOFamily/assets/js/92.52bff9af.js"><link rel="prefetch" href="/GOFamily/assets/js/93.2ad1e17b.js"><link rel="prefetch" href="/GOFamily/assets/js/94.cb498e95.js"><link rel="prefetch" href="/GOFamily/assets/js/95.3eff79bb.js"><link rel="prefetch" href="/GOFamily/assets/js/96.01bee062.js"><link rel="prefetch" href="/GOFamily/assets/js/97.46e63812.js"><link rel="prefetch" href="/GOFamily/assets/js/98.843925cf.js"><link rel="prefetch" href="/GOFamily/assets/js/99.d9206bf1.js">
    <link rel="stylesheet" href="/GOFamily/assets/css/0.styles.93ee3edc.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/GOFamily/" class="home-link router-link-active"><img src="https://avatars.githubusercontent.com/u/42873232" alt="GOFamily - go 程序员宝典" class="logo"> <span class="site-name can-hide">GOFamily - go 程序员宝典</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/GOFamily/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Menu" class="dropdown-title"><span class="title">系列教程</span> <span class="arrow down"></span></button> <button type="button" aria-label="Menu" class="mobile-dropdown-title"><span class="title">系列教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/GOFamily/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GOFamily 【go语言教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/408/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  408  【基础408知识教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/luban/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  luban  【系统设计教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/dingdang/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  dingdang  【工具教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/god/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  god  【给程序员写的书】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://shgopher.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  作者
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/shgopher/GOFamily" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/GOFamily/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Menu" class="dropdown-title"><span class="title">系列教程</span> <span class="arrow down"></span></button> <button type="button" aria-label="Menu" class="mobile-dropdown-title"><span class="title">系列教程</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/GOFamily/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GOFamily 【go语言教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/408/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  408  【基础408知识教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/luban/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  luban  【系统设计教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/dingdang/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  dingdang  【工具教程】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://shgopher.github.io/god/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  god  【给程序员写的书】
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div><div class="nav-item"><a href="https://shgopher.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  作者
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/shgopher/GOFamily" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span></span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#前端组件" class="sidebar-link">前端组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#_1。lexer-词法分析器" class="sidebar-link">1。Lexer (词法分析器)</a></li><li class="sidebar-sub-header"><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#_2。parser-语法分析器" class="sidebar-link">2。Parser (语法分析器)</a></li><li class="sidebar-sub-header"><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#_3。type-checker-类型检查器" class="sidebar-link">3。Type Checker (类型检查器)</a></li></ul></li><li><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#中端组件" class="sidebar-link">中端组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#_1。ssa-静态单赋值形式" class="sidebar-link">1。SSA (静态单赋值形式)</a></li><li class="sidebar-sub-header"><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#_2。optimizer-优化器" class="sidebar-link">2。Optimizer (优化器)</a></li></ul></li><li><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#后端组件" class="sidebar-link">后端组件</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#_1。code-generator-代码生成器" class="sidebar-link">1。Code Generator (代码生成器)</a></li><li class="sidebar-sub-header"><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#_2。assembler-汇编器" class="sidebar-link">2。Assembler (汇编器)</a></li><li class="sidebar-sub-header"><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#_3。linker-链接器" class="sidebar-link">3。Linker (链接器)</a></li><li class="sidebar-sub-header"><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#_4。runtime" class="sidebar-link">4。Runtime</a></li><li class="sidebar-sub-header"><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#其他特性" class="sidebar-link">其他特性</a></li><li class="sidebar-sub-header"><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#真实案例的分析" class="sidebar-link">真实案例的分析</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#lexer-示例" class="sidebar-link">Lexer 示例</a></li><li class="sidebar-sub-header"><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#parser-示例" class="sidebar-link">Parser 示例</a></li><li class="sidebar-sub-header"><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#type-checker-示例" class="sidebar-link">Type Checker 示例</a></li><li class="sidebar-sub-header"><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#ssa-示例" class="sidebar-link">SSA 示例</a></li><li class="sidebar-sub-header"><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#code-generator-示例" class="sidebar-link">Code Generator 示例</a></li><li class="sidebar-sub-header"><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#linker-示例" class="sidebar-link">Linker 示例</a></li></ul></li><li><a href="/GOFamily/%E7%BC%96%E8%AF%91%E5%99%A8/gc/#参考资料" class="sidebar-link">参考资料</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="go-语言官方编译器-gc">Go 语言官方编译器 gc</h1> <h2 id="前端组件">前端组件</h2> <h3 id="_1。lexer-词法分析器">1。Lexer (词法分析器)</h3> <p>Lexer 是编译器前端的第一个重要组件。它的主要职责是对源代码进行词法分析，将源代码分割成一个个词法单元 (tokens)。这些词法单元包括关键字、标识符、运算符、字面量等基本单元。</p> <p>在 Go 语言中，Lexer 的实现在 <code>src/go/scanner</code> 包中。它使用了一种高效的 DFA (确定有限状态自动机) 算法进行词法分析。同时，它还支持 Unicode 编码，可以对包含多语种字符的源代码进行正确扫描。</p> <h3 id="_2。parser-语法分析器">2。Parser (语法分析器)</h3> <p>Parser 接收 Lexer 输出的词法单元，根据语言的语法规则构造抽象语法树 (AST)。AST 是源代码的树状表示形式，反映了代码的层次结构和语义信息。</p> <p>Go 的语法分析器实现在 <code>src/go/parser</code> 包中。它采用 LL(1) 自顶向下分析算法，支持对 Go 语言所有语法结构的解析。Parser 会进行语法检查，如果发现语法错误，会报告相应的错误信息。</p> <h3 id="_3。type-checker-类型检查器">3。Type Checker (类型检查器)</h3> <p>Type Checker 对 AST 进一步进行语义分析，尤其是类型信息的收集和一致性检查。它会为所有节点附加类型信息，检查变量使用是否正确，函数调用参数是否匹配等。如果发现类型错误，会输出相应的错误信息。</p> <p>Type Checker 的实现位于 <code>src/go/types</code> 包中。除了类型检查，它还可以解析导入路径、收集方法信息等。</p> <h2 id="中端组件">中端组件</h2> <h3 id="_1。ssa-静态单赋值形式">1。SSA (静态单赋值形式)</h3> <p>SSA 是一种将程序的控制流展开的中间表示形式。Go 编译器在 Type Checker 之后，会将 AST 转换为 SSA 形式，以方便后续的优化分析和转换。</p> <p>SSA 的实现位于 <code>src/cmd/compile/internal/ssa</code> 包。在 SSA 中，每个变量只会被赋值一次，所有复杂的控制流都被展开成基本块的形式。这种表示形式方便了大量的编译器优化，如值传播、常量折叠等。</p> <h3 id="_2。optimizer-优化器">2。Optimizer (优化器)</h3> <p>Go 编译器内置了多种优化器模块，用于对 SSA 形式的程序进行各种形式的优化转换。主要优化器包括：</p> <ul><li>逃逸分析器 (<code>src/cmd/compile/internal/escape</code>)</li> <li>内联器 (<code>src/cmd/compile/internal/inliner</code>)</li> <li>死码消除 (<code>src/cmd/compile/internal/deadcode</code>)</li> <li>常量传播和折叠 (<code>src/cmd/compile/internal/opt</code>)</li> <li>控制流优化 (<code>src/cmd/compile/internal/opt</code>)</li></ul> <p>其中，逃逸分析是 Go 编译器最重要的优化环节。它可以分析变量是否会逃逸到堆上，进而决定是否可以优化为堆分配或栈分配。这对于 Go 这样的带有垃圾回收的语言而言至关重要，能极大减少内存分配和垃圾回收的压力。</p> <h2 id="后端组件">后端组件</h2> <h3 id="_1。code-generator-代码生成器">1。Code Generator (代码生成器)</h3> <p>代码生成器会将优化后的 SSA 表示形式转换为对应的机器码指令序列。</p> <p>Go 编译器采用了自定义的高效代码生成器，其实现位于 <code>src/cmd/compile/internal/gc</code> 中。它不仅支持多种常用硬件架构 (x86、ARM、RISC-V 等)，还支持硬件特性加速。例如在 ARM64 架构上支持了利用 SVE 向量指令集进行矢量化优化。</p> <h3 id="_2。assembler-汇编器">2。Assembler (汇编器)</h3> <p>汇编器将前端生成的机器码经过进一步处理，生成目标平台的二进制代码。Go 编译器目前使用 GNU 汇编器进行汇编。</p> <h3 id="_3。linker-链接器">3。Linker (链接器)</h3> <p>链接器将全部目标文件 (object files) 以及需要的系统库文件链接合并，生成最终的可执行目标文件。可执行文件是完全独立无需外部依赖的自包含程序文件。</p> <p>Go 语言自带小型高效的链接器，实现位于 <code>src/cmd/link</code> 包中。它支持静态链接和动态链接两种方式，默认采用静态链接生成全自包含的可执行文件。</p> <h3 id="_4。runtime">4。Runtime</h3> <p>Runtime 库提供了垃圾回收、goroutine 调度、处理系统调用等运行时支持。Go 语言运行时高度优化，垃圾回收器采用了三色标记-压缩算法，并行和并发的处理提高了效率。</p> <p>Goroutine 调度器使用了 M:N 调度模型，将 goroutine 和系统线程进行高效多路复用。这使得 Go 语言可以轻松创建大量并发任务，并拥有优秀的并发性能。</p> <h3 id="其他特性">其他特性</h3> <p>除了高效完整的编译器支持，Go 编译器还具备以下特性：</p> <ol><li><p>多核并行编译：gc 编译器利用并发支持，使用可用的所有 CPU 核心并行编译源文件，提高整体编译速度。</p></li> <li><p>增量编译：只编译被修改的源文件和依赖它们的源文件，避免对无关代码进行重新编译。</p></li> <li><p>类型检查缓存：将类型检查结果缓存，以加速后续编译过程。</p></li> <li><p>Go 编写：gc 编译器本身就是使用 Go 编写的，这使得它可以自举并确保与 Go 语言保持高度契合。</p></li></ol> <p>Go 编译器与 Go 语言及其工具链源码一并开源发布，方便社区贡献者阅读理解和改进编译器实现。</p> <h3 id="总结">总结</h3> <p>gc 是 Go 语言默认的官方编译器，它提供了完整的前端、优化器和后端支持，能够将 Go 语言源代码编译为高效的机器码。通过采用先进的编译器技术和算法，如 SSA 表示、逃逸分析等，gc 编译器可以生成高度优化的执行程序。</p> <p>与此同时，gc 编译器也提供了强大的运行时支持，包括垃圾回收、goroutine 调度等核心功能。这使得 gc 不仅仅是一个简单的编译器，更是 Go 语言全栈的编译和执行解决方案。</p> <p>Go 开发团队一直在持续改进完善 gc，以支持更多最新的语言特性和平台，满足日益增长的性能和兼容性要求。gc 编译器的持续进化有力地支撑了 Go 语言工程级应用的快速发展。</p> <h2 id="真实案例的分析">真实案例的分析</h2> <p>好的，我们来补充一些实际的例子，帮助理解编译器的工作原理。</p> <p>编译器前端示例：</p> <h3 id="lexer-示例">Lexer 示例</h3> <p>假设有以下 Go 源代码：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello, World!&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Lexer 会将该源代码分割为以下词法单元：</p> <div class="language- extra-class"><pre class="language-text"><code>package
main
import
&quot;fmt&quot;
func
main
(
)
{
fmt
.
Println
(
&quot;Hello, World!&quot;
)
}
</code></pre></div><h3 id="parser-示例">Parser 示例</h3> <p>经过词法分析后，Parser 会将这些词法单元构造成抽象语法树 (AST)：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// FileNode</span>
File<span class="token punctuation">{</span>
    Package<span class="token punctuation">:</span> main
    Imports<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">*</span>ImportSpec<span class="token punctuation">{</span>
        <span class="token operator">&amp;</span>ImportSpec<span class="token punctuation">{</span>
            Path<span class="token punctuation">:</span> <span class="token operator">&amp;</span>BasicLit<span class="token punctuation">{</span>
                Value<span class="token punctuation">:</span> <span class="token string">&quot;fmt&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    Decls<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>Decl<span class="token punctuation">{</span>
        <span class="token operator">&amp;</span>FuncDecl<span class="token punctuation">{</span>
            Name<span class="token punctuation">:</span> <span class="token operator">&amp;</span>Ident<span class="token punctuation">{</span>Name<span class="token punctuation">:</span> <span class="token string">&quot;main&quot;</span><span class="token punctuation">}</span>
            Body<span class="token punctuation">:</span> <span class="token operator">&amp;</span>BlockStmt<span class="token punctuation">{</span>
                List<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>Stmt<span class="token punctuation">{</span>
                    <span class="token operator">&amp;</span>ExprStmt<span class="token punctuation">{</span>
                        X<span class="token punctuation">:</span> <span class="token operator">&amp;</span>CallExpr<span class="token punctuation">{</span>
                            Fun<span class="token punctuation">:</span> <span class="token operator">&amp;</span>SelectorExpr<span class="token punctuation">{</span>
                                X<span class="token punctuation">:</span> <span class="token operator">&amp;</span>Ident<span class="token punctuation">{</span>Name<span class="token punctuation">:</span> <span class="token string">&quot;fmt&quot;</span><span class="token punctuation">}</span>
                                Sel<span class="token punctuation">:</span> <span class="token operator">&amp;</span>Ident<span class="token punctuation">{</span>Name<span class="token punctuation">:</span> <span class="token string">&quot;Println&quot;</span><span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                            Args<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>Expr<span class="token punctuation">{</span>
                                <span class="token operator">&amp;</span>BasicLit<span class="token punctuation">{</span>
                                    Value<span class="token punctuation">:</span> <span class="token string">&quot;Hello, World!&quot;</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="type-checker-示例">Type Checker 示例</h3> <p>Type Checker 会对 AST 进行类型分析，并附加类型信息：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// File Node with Type Information</span>
File<span class="token punctuation">{</span>
    Package<span class="token punctuation">:</span> main
    Imports<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">*</span>ImportSpec<span class="token punctuation">{</span>
        <span class="token operator">&amp;</span>ImportSpec<span class="token punctuation">{</span>
            Path<span class="token punctuation">:</span> <span class="token operator">&amp;</span>BasicLit<span class="token punctuation">{</span>
                Value<span class="token punctuation">:</span> <span class="token string">&quot;fmt&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    Decls<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>Decl<span class="token punctuation">{</span>
        <span class="token operator">&amp;</span>FuncDecl<span class="token punctuation">{</span>
            Name<span class="token punctuation">:</span> <span class="token operator">&amp;</span>Ident<span class="token punctuation">{</span>Name<span class="token punctuation">:</span> <span class="token string">&quot;main&quot;</span><span class="token punctuation">,</span> Type<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
            Body<span class="token punctuation">:</span> <span class="token operator">&amp;</span>BlockStmt<span class="token punctuation">{</span>
                List<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>Stmt<span class="token punctuation">{</span>
                    <span class="token operator">&amp;</span>ExprStmt<span class="token punctuation">{</span>
                        X<span class="token punctuation">:</span> <span class="token operator">&amp;</span>CallExpr<span class="token punctuation">{</span>
                            Fun<span class="token punctuation">:</span> <span class="token operator">&amp;</span>SelectorExpr<span class="token punctuation">{</span>
                                X<span class="token punctuation">:</span> <span class="token operator">&amp;</span>Ident<span class="token punctuation">{</span>Name<span class="token punctuation">:</span> <span class="token string">&quot;fmt&quot;</span><span class="token punctuation">,</span> Type<span class="token punctuation">:</span> <span class="token operator">*</span>fmt<span class="token punctuation">}</span>
                                Sel<span class="token punctuation">:</span> <span class="token operator">&amp;</span>Ident<span class="token punctuation">{</span>Name<span class="token punctuation">:</span> <span class="token string">&quot;Println&quot;</span><span class="token punctuation">,</span> Type<span class="token punctuation">:</span> <span class="token keyword">func</span><span class="token punctuation">(</span>a <span class="token operator">...</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>n <span class="token builtin">int</span><span class="token punctuation">,</span> err <span class="token builtin">error</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                            Args<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>Expr<span class="token punctuation">{</span>
                                <span class="token operator">&amp;</span>BasicLit<span class="token punctuation">{</span>
                                    Value<span class="token punctuation">:</span> <span class="token string">&quot;Hello, World!&quot;</span><span class="token punctuation">,</span>
                                    Type<span class="token punctuation">:</span> <span class="token builtin">string</span>
                                <span class="token punctuation">}</span>
                            <span class="token punctuation">}</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>编译器中端示例：</p> <h3 id="ssa-示例">SSA 示例</h3> <p>在 SSA 中，代码被转换为基本块的形式，控制流完全展开：</p> <div class="language- extra-class"><pre class="language-text"><code># Example SSA representation
func main():
bb0: 
    t0 = new [1]string { /* str */ }
    t1 = &amp;t0[0]
    *t1 = &quot;Hello, World!&quot;
    t2 = staticbytes(&amp;&lt;string  Value&gt;)
    t3 = &amp;t2[0]
    t4 = slice t2[:]
    t5 = make([]interface{}, 1)
    t6 = &amp;t5[0]
    t7 = &amp;t4
    t8 = *t7
    *t6 = t8
    t9 = fmt.Println(&amp;t5...)
    return

# Optimized SSA representation
func main():
bb0:
    t0 = staticbytes(&amp;&lt;string  Value=&quot;Hello, World!&quot;&gt;)
    t1 = &amp;t0[0]  
    t2 = slice t0[:]
    t3 = make([]interface{}, 1)
    t4 = &amp;t3[0]
    t5 = &amp;t2
    t6 = *t5
    *t4 = t6
    t7 = fmt.Println(&amp;t3...)
    return
</code></pre></div><p>可以看到，在优化后的 SSA 表示中，一些冗余的内存分配和字符串构造操作都被优化掉了。</p> <p>编译器后端示例：</p> <h3 id="code-generator-示例">Code Generator 示例</h3> <p>在 <code>amd64</code> 平台上，优化后的 <code>fmt.Println(&quot;Hello, World!&quot;)</code> 会被生成如下汇编代码：</p> <div class="language- extra-class"><pre class="language-text"><code>0x001b  TEXT    &quot;&quot;.main(SB), ABIInternal, $24-0
        MOVQ    $go.string.&quot;Hello, World!&quot;(SB), AX      // 加载字符串常量
        MOVQ    AX, (SP)                                // 将字符串常量传入参数区
        MOVQ    $1, 8(SP)                               // 设置 slice 长度
        MOVQ    $1, 16(SP)                              // 设置 slice 容量
        CALL    runtime.convTstring(SB)                 // 调用 convTstring
        MOVQ    8(SP), AX                               // 加载转换后的 slice
        MOVQ    AX, (SP)                                // 将 slice 作为参数
        CALL    fmt.Println(SB)                         // 调用 fmt.Println
        MOVQ    24(SP), BP                              // 恢复 BP
        ADDQ    $24, SP                                 // 调整栈指针
        RET                                             // 返回
</code></pre></div><p>可以看到，Go 编译器后端生成了紧凑高效的汇编指令，包括字符串常量加载、参数传递、函数调用等操作。</p> <h3 id="linker-示例">Linker 示例</h3> <p>假设我们编译了以下两个 Go 源文件：</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token comment">// file1.go</span>
<span class="token keyword">package</span> main

<span class="token keyword">import</span> <span class="token string">&quot;fmt&quot;</span>

<span class="token keyword">func</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span>
    <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// file2.go  </span>
<span class="token keyword">package</span> main

<span class="token keyword">func</span> <span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    fmt<span class="token punctuation">.</span><span class="token function">Println</span><span class="token punctuation">(</span><span class="token string">&quot;Hi&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Go 编译器会先将它们分别编译为目标文件 <code>file1.o</code> 和 <code>file2.o</code>。链接器 (<code>cmd/link</code>) 会将这两个目标文件以及需要的运行时库链接合并，生成最终的可执行文件 <code>main</code>。</p> <p>该过程类似于：</p> <div class="language- extra-class"><pre class="language-text"><code>$ go tool compile -o file1.o file1.go
$ go tool compile -o file2.o file2.go  
$ go tool link -o main file1.o file2.o
</code></pre></div><p>最终输出的 <code>main</code> 可执行文件中，包含了 <code>main</code> 包定义、<code>fmt.Println</code> 导入符号以及 <code>sayHi</code> 函数实现等所有需要的代码和元数据。</p> <p>通过这些实例，我们可以更好地理解 Go 编译器各组件的具体工作方式，以及它们是如何高效协作将 Go 源代码转换为机器码的。这种透明度和可阅读性也是 Go 编译器的一大优势。</p> <h2 id="参考资料">参考资料</h2> <ul><li>https://go.dev/src/cmd/compile/README</li> <li>https://golang.org/doc/ssa</li> <li>https://go101.org/article/compiler.html</li> <li>https://dmitri.shuralyov.com/idiomatic-go#compiler</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/shgopher/GOFamily/edit/release/编译器/gc/README.md" target="_blank" rel="noopener noreferrer">在GitHub中编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">最后更新:</span> <span class="time">3/12/2024, 7:27:43 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/GOFamily/assets/js/app.6dac5fbf.js" defer></script><script src="/GOFamily/assets/js/2.5c331e53.js" defer></script><script src="/GOFamily/assets/js/112.b73333d2.js" defer></script>
  </body>
</html>
