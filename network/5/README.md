# IP数据报常见字段

![p](https://raw.githubusercontent.com/imgoogege/Super-Dad/master/notes/pics/85c05fb1-5546-4c50-9221-21f231cdc8c5.jpg)

版本 : 有 4（IPv4）和 6（IPv6）两个值；

首部长度 : 占 4 位，因此最大值为 15。值为 1 表示的是 1 个 32 位字的长度，也就是 4 字节。因为固定部分长度为 20 字节，因此该值最小为 5。如果可选字段的长度不是 4 字节的整数倍，就用尾部的填充部分来填充。

区分服务 : 用来获得更好的服务，一般情况下不使用。

总长度 : 包括首部长度和数据部分长度。

生存时间 ：TTL，它的存在是为了防止无法交付的数据报在互联网中不断兜圈子。以路由器跳数为单位，当 TTL 为 0 时就丢弃数据报。

协议 ：指出携带的数据应该上交给哪个协议进行处理，例如 ICMP、TCP、UDP 等。

首部检验和 ：因为数据报每经过一个路由器，都要重新计算检验和，因此检验和不包含数据部分可以减少计算的工作量。

标识 : 在数据报长度过长从而发生分片的情况下，相同数据报的不同分片具有相同的标识符。

片偏移 : 和标识符一起，用于发生分片的情况。片偏移的单位为 8 字节。
